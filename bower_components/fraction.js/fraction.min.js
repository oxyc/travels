/*
Fraction.js v3.0.0 09/09/2015
http://www.xarg.org/2014/03/precise-calculations-in-javascript/

Copyright (c) 2015, Robert Eisele (robert@xarg.org)
Dual licensed under the MIT or GPL Version 2 licenses.
*/
(function(w){"use strict";function u(a,d){if(!a)return d;if(!d)return a;for(;;){a%=d;if(!a)return d;d%=a;if(!d)return a}}function x(a){for(;0===a%2;a/=2);for(;0===a%5;a/=5);if(1===a)return 0;for(var d=10%a,b=1;1!==d;b++)if(d=10*d%a,2E3<b)return 0;return b}function k(a,d){var b=0,m=1,l=1,g=0,p=0,n=0,h=1,q=1,e=0,f=1,k=1,r=1;if(void 0!==a&&null!==a)if(void 0!==d)b=a,m=d,l=b*m;else switch(typeof a){case "object":"d"in a&&"n"in a?(b=a.n,m=a.d,"s"in a&&(b*=a.s)):0 in a?(b=a[0],1 in a&&(m=a[1])):v();l=b*m;break;case "number":0>
a&&(l=a,a=-a);if(0===a%1)b=a;else if(0<a){1<=a&&(q=Math.pow(10,Math.floor(1+Math.log(a)/Math.LN10)),a/=q);for(;1E7>=f&&1E7>=r;)if(b=(e+k)/(f+r),a===b){1E7>=f+r?(b=e+k,m=f+r):r>f?(b=k,m=r):(b=e,m=f);break}else a>b?(e+=k,f+=r):(k+=e,r+=f),1E7<f?(b=k,m=r):(b=e,m=f);b*=q}break;case "string":f=a.match(/\d+|./g);"-"===f[e]?(l=-1,e++):"+"===f[e]&&e++;if(f.length===e+1)p=t(f[e++],l);else if("."===f[e+1]||"."===f[e]){"."!==f[e]&&(g=t(f[e++],l));e++;if(e+1===f.length||"("===f[e+1]&&")"===f[e+3]||"'"===f[e+
1]&&"'"===f[e+3])p=t(f[e],l),h=Math.pow(10,f[e].length),e++;if("("===f[e]&&")"===f[e+2]||"'"===f[e]&&"'"===f[e+2])n=t(f[e+1],l),q=Math.pow(10,f[e+1].length)-1,e+=3}else"/"===f[e+1]||":"===f[e+1]?(p=t(f[e],l),h=t(f[e+2],1),e+=3):"/"===f[e+3]&&" "===f[e+1]&&(g=t(f[e],l),p=t(f[e+2],l),h=t(f[e+4],1),e+=5);if(f.length<=e){l=b=n+q*(g*h+p);m=h*q;break}default:v()}if(!m)throw"DIV/0";c.s=0>l?-1:1;c.n=Math.abs(b);c.d=Math.abs(m)}function t(a,d){isNaN(a=parseInt(a,10))&&v();return a*d}function v(){throw"Invalid Param";
}function g(a,d){if(!(this instanceof g))return new g(a,d);k(a,d);g.REDUCE?a=u(c.d,c.n):a=1;this.s=c.s;this.n=c.n/a;this.d=c.d/a}var c={s:1,n:0,d:1};g.REDUCE=1;g.prototype={s:1,n:0,d:1,abs:function(){return new g(this.n,this.d)},neg:function(){return new g(-this.s*this.n,this.d)},add:function(a,d){k(a,d);return new g(this.s*this.n*c.d+c.s*this.d*c.n,this.d*c.d)},sub:function(a,d){k(a,d);return new g(this.s*this.n*c.d-c.s*this.d*c.n,this.d*c.d)},mul:function(a,d){k(a,d);return new g(this.s*c.s*this.n*
c.n,this.d*c.d)},div:function(a,d){k(a,d);return new g(this.s*c.s*this.n*c.d,this.d*c.n)},clone:function(){return new g(this)},mod:function(a,d){if(void 0===a)return new g(this.s*this.n%this.d,1);k(a,d);0===c.n*this.d&&g(0,0);return new g(this.s*c.d*this.n%(c.n*this.d),c.d*this.d)},gcd:function(a,d){k(a,d);return new g(u(c.n,this.n),c.d*this.d/u(c.d,this.d))},lcm:function(a,d){k(a,d);return new g(c.n*this.n/u(c.n,this.n),u(c.d,this.d))},ceil:function(){return new g(Math.ceil(this.s*this.n/this.d),
1)},floor:function(){return new g(Math.floor(this.s*this.n/this.d),1)},round:function(){return new g(Math.round(this.s*this.n/this.d),1)},inverse:function(){return new g(this.s*this.d,this.n)},pow:function(a){var d=this.d,b=this.n;0>a?(this.d=Math.pow(b,-a),this.n=Math.pow(d,-a)):(this.d=Math.pow(d,a),this.n=Math.pow(b,a));0===a%2&&(this.s=1);return this},equals:function(a,d){k(a,d);return this.s*this.n*c.d===c.s*c.n*this.d},compare:function(a,d){k(a,d);var b=this.s*this.n*c.d-c.s*c.n*this.d;return(0<
b)-(0>b)},divisible:function(a,d){k(a,d);return!!(c.n*this.d)&&!(this.n*c.d%(c.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(a){var d,b="",m=this.n,c=this.d;0>this.s&&(b+="-");1===c?b+=m:(a&&0<(d=Math.floor(m/c))&&(b=b+d+" ",m%=c),b+=m,b+="/",b+=c);return b},toLatex:function(a){var d,b="",c=this.n,g=this.d;0>this.s&&(b+="-");1===g?b+=c:(a&&0<(d=Math.floor(c/g))&&(b+=d,c%=g),b=b+"\\frac{"+c,b+="}{",b+=g,b+="}");return b},toString:function(){var a,d=this.n,b=this.d;
g.REDUCE||(a=u(d,b),d/=a,b/=a);a=String(d).split("");var d=0,c=[~this.s?"":"-","",""],l="",k=x(b),p;a:{p=1;var n;n=k;for(var h=10,q=1;0<n;h=h*h%b,n>>=1)n&1&&(q=q*h%b);n=q;for(h=0;300>h;h++){if(p===n){p=h;break a}p=10*p%b;n=10*n%b}p=0}n=-1;for(var h=1,q=10+k+p+a.length,e=0;e<q;e++,d*=10){e<a.length?d+=Number(a[e]):(h=2,n++);if(0<k)if(n===p)c[h]+=l+"(",l="";else if(n===k+p){c[h]+=l+")";break}d>=b?(c[h]+=l+(d/b|0),l="",d%=b):1<h?l+="0":c[h]&&(c[h]+="0")}c[0]+=c[1]||"0";return c[2]?c[0]+"."+c[2]:c[0]}};
"function"===typeof define&&define.amd?define([],function(){return g}):"object"===typeof exports?module.exports=g:w.Fraction=g})(this);
